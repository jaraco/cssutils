

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>scripts &mdash; cssutils 0.9.8 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="cssutils 0.9.8 documentation" href="../index.html" />
    <link rel="next" title="CSS codec" href="codec.html" />
    <link rel="prev" title="logging" href="logging.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="codec.html" title="CSS codec"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="logging.html" title="logging"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">cssutils 0.9.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="scripts">
<h1>scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h1>
<p>The provided scripts are available as a standalone script which is installed in the default PYTHONHOME/scripts directory. Additionally an API for the functionality of the scripts is provided for use in programs.</p>
<div class="section" id="cssparse">
<h2><tt class="docutils literal"><span class="pre">CSSParse</span></tt><a class="headerlink" href="#cssparse" title="Permalink to this headline">¶</a></h2>
<p>Script version of <tt class="docutils literal"><span class="pre">cssutils.parseString()</span></tt>, <tt class="docutils literal"><span class="pre">cssutils.parseFile()</span></tt> and <tt class="docutils literal"><span class="pre">cssutils.parseUrl()</span></tt>.</p>
<dl class="docutils">
<dt>Usage: cssparse-script.py [options] filename1.css [filename2.css ...]</dt>
<dd>[&gt;filename_combined.css] [2&gt;parserinfo.log]</dd>
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>show this help message and exit</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s</span>, <span class="option">--string</span></kbd></td>
<td>parse given string</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-u <var>URL</var></span>, <span class="option">--url=<var>URL</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>parse given url</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-e <var>ENCODING</var></span>, <span class="option">--encoding=<var>ENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>encoding of the file or override encoding found</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-m</span>, <span class="option">--minify</span></kbd></td>
<td>minify parsed CSS</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></td>
<td>activate debugging output</td></tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="csscapture">
<h2><tt class="docutils literal"><span class="pre">CSSCapture</span></tt><a class="headerlink" href="#csscapture" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">CSSCapture</span></tt> downloads all referenced CSS stylesheets of a given URL and saves them to a given target directory.</p>
<div class="section" id="programmatic-use">
<h3>programmatic use<a class="headerlink" href="#programmatic-use" title="Permalink to this headline">¶</a></h3>
<p>example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s">&#39;http://cthedot.de&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cssutils.script</span> <span class="kn">import</span> <span class="n">CSSCapture</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">capturer</span> <span class="o">=</span> <span class="n">CSSCapture</span><span class="p">(</span><span class="n">ua</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">defaultloglevel</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stylesheetlist</span> <span class="o">=</span> <span class="n">capturer</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">stylesheetlist</span>
<span class="go">[cssutils.css.CSSStyleSheet(href=u&#39;http://cthedot.de/css/default.css&#39;, media=None, title=None),</span>
<span class="go"> cssutils.css.CSSStyleSheet(href=u&#39;http://cthedot.de/static/alternate1.css&#39;, media=None, title=u&#39;red&#39;),</span>
<span class="go"> cssutils.css.CSSStyleSheet(href=u&#39;http://cthedot.de/static/alternate2.css&#39;, media=None, title=u&#39;blue&#39;)]</span>
</pre></div>
</div>
</div>
<div class="section" id="script-use">
<h3>script use<a class="headerlink" href="#script-use" title="Permalink to this headline">¶</a></h3>
<p>Usage: csscapture-script.py [options] URL</p>
<dl class="docutils">
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>show this help message and exit</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></td>
<td>show debug messages during capturing</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-m</span>, <span class="option">--minified</span></kbd></td>
<td>saves minified version of captured files</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-n</span>, <span class="option">--notsave</span></kbd></td>
<td>if given files are NOT saved, only log is written</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-s <var>SAVETO</var></span>, <span class="option">--saveto=<var>SAVETO</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>saving retrieved files to &#8220;saveto&#8221;, defaults to &#8220;_CSSCapture_SAVED&#8221;</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-u <var>UA</var></span>, <span class="option">--useragent=<var>UA</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>useragent to use for request of URL, default is urllib2s default</td></tr>
</tbody>
</table>
</dd>
</dl>
<p>The following example outputs a list of stylesheets found with title and href of the found stylesheet. (<tt class="docutils literal"><span class="pre">PYTHONHOME/Scripts</span></tt> should be on your <tt class="docutils literal"><span class="pre">PATH</span></tt>.  Additional log output is not shown.):</p>
<div class="highlight-python"><pre>&gt; csscapture http://cthedot.de/static/cssutils/examples/capturefrom.html -n

1.
    encoding: 'utf-8'
    title: u'html 1: link1'
    href: u'http://cthedot.de/css/default.css'
2.
    encoding: 'utf-8'
    title: u'html 2: style1'
    href: None
3.
    encoding: 'utf-8'
    title: u'HTML 2.1: @import'
    href: u'http://cthedot.de/static/cssutils/examples/inlineimport1.css'
4.
    encoding: 'utf-8'
    title: u'html 3: link2'
    href: u'http://cthedot.de/static/cssutils/examples/link1.css'
5.
    encoding: 'utf-8'
    title: u'link1: s1'
    href: u'http://cthedot.de/static/cssutils/examples/linkimport1.css'
6.
    encoding: 'utf-8'
    title: None
    href: u'http://cthedot.de/static/cssutils/examples/css/linkimportimport1.css'
7.
    encoding: 'utf-8'
    title: None
    href: u'http://cthedot.de/static/cssutils/examples/css/linkimportimport2.css'
8.
    encoding: 'iso-8859-1'
    title: u'link1: s2'
    href: u'http://cthedot.de/static/cssutils/examples/linkimport2.css'
9.
    encoding: 'utf-8'
    title: u'html 4: style2'
    href: None
10.
    encoding: 'utf-8'
    title: None
    href: u'http://cthedot.de/static/cssutils/examples/css/inlineimport2.css'
11.
    encoding: 'utf-8'
    title: None
    href: u'http://cthedot.de/static/cssutils/examples/css/inlineimportimport1.css'</pre>
</div>
</div>
</div>
<div class="section" id="csscombine">
<h2><tt class="docutils literal"><span class="pre">CSSCombine</span></tt><a class="headerlink" href="#csscombine" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">csscombine</span></tt> may be used to combine several sheets loaded from a main sheet via &#64;import rules. Nested &#64;import rules are resolved from cssutils 0.9.6a1.</p>
<p>The resulting combined sheet (optionally minified) is send to stdout, info and error messages are handled by the normal cssutils log.</p>
<p><tt class="docutils literal"><span class="pre">csscombine</span></tt> may also be used to change the encoding of the stylesheet if a target encoding is given.</p>
<div class="section" id="id1">
<h3>programmatic use<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cssutils.script</span> <span class="kn">import</span> <span class="n">csscombine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proxypath</span> <span class="o">=</span> <span class="s">&#39;sheets/import.css&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">csscombine</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">proxypath</span><span class="p">,</span> <span class="n">sourceencoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">targetencoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">minify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">INFO    Combining files from None</span>
<span class="go">INFO    Processing @import u&#39;import/import2.css&#39;</span>
<span class="go">INFO    Processing @import u&#39;../import3.css&#39;</span>
<span class="go">INFO    @import: Adjusting paths for u&#39;../import3.css&#39;</span>
<span class="go">INFO    Processing @import u&#39;import-impossible.css&#39;</span>
<span class="go">INFO    @import: Adjusting paths for u&#39;import-impossible.css&#39;</span>
<span class="go">WARNING Cannot combine imported sheet with given media as other rules then comments or stylerules found cssutils.css.CSSNamespaceRule(namespaceURI=u&#39;y&#39;, prefix=u&#39;&#39;), keeping u&#39;@import &quot;import-impossible.css&quot; print;&#39;</span>
<span class="go">INFO    @import: Adjusting paths for u&#39;import/import2.css&#39;</span>
<span class="go">INFO    Using target encoding: &#39;utf-8&#39;</span>
<span class="go">@charset &quot;utf-8&quot;;</span>
<span class="go">/* START @import &quot;import/import2.css&quot; */</span>
<span class="go">@import &quot;import-impossible.css&quot; print;</span>
<span class="go">/* START @import &quot;../import3.css&quot; */</span>
<span class="go">/* import3 */</span>
<span class="go">.import3 {</span>
<span class="go">    /* from ./import/../import3.css */</span>
<span class="go">    background: url(images/example3.gif);</span>
<span class="go">    background: url(images/example3.gif);</span>
<span class="go">    background: url(import/images2/example2.gif);</span>
<span class="go">    background: url(import/images2/example2.gif);</span>
<span class="go">    background: url(images/example3.gif)</span>
<span class="go">    }</span>
<span class="go">/* START @import &quot;import-impossible.css&quot; */</span>
<span class="go">.import2 {</span>
<span class="go">    /* sheets/import2.css */</span>
<span class="go">    background: url(http://example.com/images/example.gif);</span>
<span class="go">    background: url(//example.com/images/example.gif);</span>
<span class="go">    background: url(/images/example.gif);</span>
<span class="go">    background: url(import/images2/example.gif);</span>
<span class="go">    background: url(import/images2/example.gif);</span>
<span class="go">    background: url(images/example.gif);</span>
<span class="go">    background: url(images/example.gif)</span>
<span class="go">    }</span>
<span class="go">.import {</span>
<span class="go">    /* ./import.css */</span>
<span class="go">    background-image: url(images/example.gif)</span>
<span class="go">    }</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>script use<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Usage: csscombine-script.py [options] [path]</p>
<dl class="docutils">
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>show this help message and exit</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-u <var>URL</var></span>, <span class="option">--url=<var>URL</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>URL to parse (path is ignored if URL given)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-s <var>SOURCEENCODING</var></span>, <span class="option">--sourceencoding=<var>SOURCEENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>encoding of input, defaulting to &#8220;css&#8221;. If given
overwrites other encoding information like &#64;charset
declarations</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-t <var>TARGETENCODING</var></span>, <span class="option">--targetencoding=<var>TARGETENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>encoding of output, defaulting to &#8220;UTF-8&#8221;</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-m</span>, <span class="option">--minify</span></kbd></td>
<td>saves minified version of combined files, defaults to
False</td></tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">scripts</a><ul>
<li><a class="reference internal" href="#cssparse"><tt class="docutils literal"><span class="pre">CSSParse</span></tt></a></li>
<li><a class="reference internal" href="#csscapture"><tt class="docutils literal"><span class="pre">CSSCapture</span></tt></a><ul>
<li><a class="reference internal" href="#programmatic-use">programmatic use</a></li>
<li><a class="reference internal" href="#script-use">script use</a></li>
</ul>
</li>
<li><a class="reference internal" href="#csscombine"><tt class="docutils literal"><span class="pre">CSSCombine</span></tt></a><ul>
<li><a class="reference internal" href="#id1">programmatic use</a></li>
<li><a class="reference internal" href="#id2">script use</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="logging.html"
                        title="previous chapter">logging</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="codec.html"
                        title="next chapter">CSS codec</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/docs/scripts.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="codec.html" title="CSS codec"
             >next</a> |</li>
        <li class="right" >
          <a href="logging.html" title="logging"
             >previous</a> |</li>
        <li><a href="../index.html">cssutils 0.9.8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2004-2011, Christof Höke.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>